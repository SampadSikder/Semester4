DROP TABLE BORROWER;
DROP TABLE DEPOSITOR;
DROP TABLE LOAN;
DROP TABLE ACCOUNT;
DROP TABLE CUSTOMER;
DROP TABLE BRANCH;

CREATE TABLE BRANCH
	(
	BRANCH_NAME VARCHAR(50),
	BRANCH_CITY VARCHAR(50),
	ASSETS VARCHAR(20),
	CONSTRAINT BRANCH_PK PRIMARY KEY(BRANCH_NAME)
);
CREATE TABLE CUSTOMER
 	(
	CUSTOMER_NAME VARCHAR(50),
	CUSTOMER_STREET VARCHAR(50),
	CUSTOMER_CITY VARCHAR(50),
	CONSTRAINT CUSTOMER_PK PRIMARY KEY(CUSTOMER_NAME)
);
CREATE TABLE ACCOUNT
	(
	ACCOUNT_NUMBER VARCHAR(50),
	BRANCH_NAME VARCHAR(50),
	BALANCE NUMBER(20),
	CONSTRAINT ACCOUNT_PK PRIMARY KEY(ACCOUNT_NUMBER),
	CONSTRAINT ACCOUNT_FK 
	FOREIGN KEY (BRANCH_NAME)
	REFERENCES BRANCH (BRANCH_NAME)
);
CREATE TABLE LOAN
	(
	LOAN_NUMBER VARCHAR(50),
	BRANCH_NAME VARCHAR(50),
	AMOUNT NUMBER(20),
	CONSTRAINT LOAN_PK PRIMARY KEY(LOAN_NUMBER),
	CONSTRAINT LOAN_FK 
	FOREIGN KEY (BRANCH_NAME)
	REFERENCES BRANCH (BRANCH_NAME)
);
CREATE TABLE DEPOSITOR
	(
	CUSTOMER_NAME VARCHAR(50),
	ACCOUNT_NUMBER VARCHAR(50),
	CONSTRAINT DEPOSITOR_CN_FK FOREIGN KEY (CUSTOMER_NAME)
	REFERENCES CUSTOMER(CUSTOMER_NAME),
	CONSTRAINT DEPOSITOR_AN_FK FOREIGN KEY(ACCOUNT_NUMBER)
	REFERENCES ACCOUNT(ACCOUNT_NUMBER),
	CONSTRAINT DEPOSITOR_CK PRIMARY KEY(CUSTOMER_NAME, ACCOUNT_NUMBER)
);
CREATE TABLE BORROWER
	(
	CUSTOMER_NAME VARCHAR(50),
	LOAN_NUMBER VARCHAR(50),
	CONSTRAINT BORROWER_CN_FK FOREIGN KEY (CUSTOMER_NAME)
	REFERENCES CUSTOMER(CUSTOMER_NAME),
	CONSTRAINT BORROWER_LN_FK FOREIGN KEY(LOAN_NUMBER)
	REFERENCES LOAN(LOAN_NUMBER),
	CONSTRAINT BORROWER_CK PRIMARY KEY(CUSTOMER_NAME, LOAN_NUMBER)
);

---INSERTION
---INSERT INTO BRANCH VALUES ('Motijheel', 'Dhaka', 100000);
---INSERT INTO BRANCH VALUES ('Gulshan', 'Dhaka', 1000000);
---INSERT INTO BRANCH VALUES ('DU', 'Dhaka', 1000);
---INSERT INTO BRANCH VALUES ('Mirpur', 'Dhaka', 10000);

---INSERT INTO CUSTOMER VALUES('Mashiat Amin', 'No street', 'Bhola');
---INSERT INTO CUSTOMER VALUES('Abhijit Paul', 'Kadamtali', 'Dhaka');
---INSERT INTO CUSTOMER VALUES('Momen Fahmid', 'Uttara', 'Dhaka');
---INSERT INTO CUSTOMER VALUES('Monayem Sarker', 'Gabtoli', 'Dhaka');
---INSERT INTO CUSTOMER VALUES('Nazmus Sakib', 'Mirpur', 'Dhaka');
---INSERT INTO CUSTOMER VALUES('Sadia', 'Mogbazar', 'Dhaka');


---INSERT INTO ACCOUNT VALUES(1202, 99999, 'Motijheel');
---INSERT INTO ACCOUNT VALUES(1201, 1000000, 'Gulshan');
---INSERT INTO ACCOUNT VALUES(1227, 102023, 'DU');
---INSERT INTO ACCOUNT VALUES(1228, 199999, 'Motijheel');
---INSERT INTO ACCOUNT VALUES(1225, 1000000, 'Mirpur');
---INSERT INTO ACCOUNT VALUES(1216, 1020232, 'DU');

---INSERT INTO LOAN VALUES('1001', 9000, 'Motijheel');
---INSERT INTO loan VALUES('1002', 1000, 'Gulshan');
---INSERT INTO LOAN VALUES('1003', 10202, 'DU');


---INSERT INTO DEPOSITOR VALUES('Mashiat Amin', 1202);
---INSERT INTO DEPOSITOR VALUES('Abhijit Paul', 1201);
---INSERT INTO DEPOSITOR VALUES('Momen Fahmid', 1227);


---INSERT INTO BORROWER VALUES('Monayem Sarker', '1001');
---INSERT INTO BORROWER VALUES('Nazmus Sakib', '1002');
---INSERT INTO BORROWER VALUES('Sadia', '1003');

INSERT INTO BRANCH VALUES ('Brighton', 'Brooklyn', 7100000);
INSERT INTO BRANCH VALUES ('Downtown', 'Brooklyn', 9000000);
INSERT INTO BRANCH VALUES ('Mianus', 'Horseneck', 400000);
INSERT INTO BRANCH VALUES ('North Town', 'Rye', 3700000);
INSERT INTO BRANCH VALUES ('Perryridge', 'Horseneck', 1700000);
INSERT INTO BRANCH VALUES ('Pownal', 'Beinnington', 300000);
INSERT INTO BRANCH VALUES ('Redwood', 'Palo Alto', 2100000);
INSERT INTO BRANCH VALUES ('Round Hill', 'Horseneck', 8000000);

INSERT INTO CUSTOMER VALUES ('Adams', 'Spring','Pittsfield');
INSERT INTO CUSTOMER VALUES ('Brooks', 'Senator','Brooklyn');
INSERT INTO CUSTOMER VALUES ('Curry', 'North','Rye');
INSERT INTO CUSTOMER VALUES ('Glenn', 'Sand Hill','Woodside');
INSERT INTO CUSTOMER VALUES ('Green', 'Walnut','Stamford');
INSERT INTO CUSTOMER VALUES ('Hayes', 'Main','Harrison');
INSERT INTO CUSTOMER VALUES ('Johnson', 'Alma','Palo alto');
INSERT INTO CUSTOMER VALUES ('Jones', 'Main','Harrison');
INSERT INTO CUSTOMER VALUES ('Lindsay', 'Park','Pittsfield');
INSERT INTO CUSTOMER VALUES ('Smith', 'North','Rye');
INSERT INTO CUSTOMER VALUES ('Turner', 'Putnam','Stamford');
INSERT INTO CUSTOMER VALUES ('Williams', 'Nassau','Princeton');

INSERT INTO ACCOUNT VALUES ('A-101', 'Downtown',500);
INSERT INTO ACCOUNT VALUES ('A-102', 'Perryridge',400);
INSERT INTO ACCOUNT VALUES ('A-201', 'Brighton',900);
INSERT INTO ACCOUNT VALUES ('A-215', 'Mianus',700);
INSERT INTO ACCOUNT VALUES ('A-217', 'Brighton',750);
INSERT INTO ACCOUNT VALUES ('A-222', 'Redwood',700);
INSERT INTO ACCOUNT VALUES ('A-305', 'Round Hill',350);


INSERT INTO LOAN VALUES ('L-11', 'Round Hill',900);
INSERT INTO LOAN VALUES ('L-14', 'Downtown',1500);
INSERT INTO LOAN VALUES ('L-15', 'Perryridge',1500);
INSERT INTO LOAN VALUES ('L-16', 'Perryridge',1300);
INSERT INTO LOAN VALUES ('L-17', 'Downtown',1000);
INSERT INTO LOAN VALUES ('L-23', 'Redwood',2000);
INSERT INTO LOAN VALUES ('L-93', 'Mianus',500);

INSERT INTO DEPOSITOR VALUES ('Williams', 'A-102');
INSERT INTO DEPOSITOR VALUES ('Johnson', 'A-101');
INSERT INTO DEPOSITOR VALUES ('Johnson', 'A-201');
INSERT INTO DEPOSITOR VALUES ('Jones', 'A-217');
INSERT INTO DEPOSITOR VALUES ('Lindsay', 'A-222');
INSERT INTO DEPOSITOR VALUES ('Smith', 'A-215');
INSERT INTO DEPOSITOR VALUES ('Turner', 'A-305');

INSERT INTO BORROWER VALUES ('Adams', 'L-16');
INSERT INTO BORROWER VALUES ('Curry', 'L-93');
INSERT INTO BORROWER VALUES ('Hayes', 'L-15');
INSERT INTO BORROWER VALUES ('Johnson', 'L-14');
INSERT INTO BORROWER VALUES ('Jones', 'L-17');
INSERT INTO BORROWER VALUES ('Smith', 'L-11');
INSERT INTO BORROWER VALUES ('Smith', 'L-23');
INSERT INTO BORROWER VALUES ('Williams', 'L-17');

---SELECT DISTINCT BRANCH_NAME FROM LOAN;
---SELECT LOAN_NUMBER FROM LOAN WHERE BRANCH_NAME='PERRYRIDGE' AND AMOUNT>1200;
---SELECT CUSTOMER_NAME, BORROWER.LOAN_NUMBER, AMOUNT FROM BORROWER WHERE BORROWER.LOAN_NUMBER = LOAN.LOAN_NUMBER AND BRANCH_NAME ='PERRYRIDGE';





	